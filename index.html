<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sistema de Assinaturas Digitais — Prefeitura de Barra dos Coqueiros</title>
  <link rel="icon" href="img/favicon.png">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="header">
    <img src="img/logo.png" alt="Logo Prefeitura">
    <div>
      <div class="title">Sistema de Assinaturas Digitais</div>
      <div class="small">Prefeitura Municipal de Barra dos Coqueiros — SE</div>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <section class="card" aria-labelledby="cadastro">
        <h2 id="cadastro">Passo A — Cadastro Inicial</h2>
        <div class="kpi">
          <div class="num" id="totalProfiles">0</div>
          <div class="small">Perfis cadastrados</div>
        </div>

        <label for="nome">Nome completo</label>
        <input id="nome" placeholder="Ex: João da Silva" aria-label="Nome">

        <label for="cpf">CPF (ex.: 000.000.000-00)</label>
        <input id="cpf" placeholder="000.000.000-00" aria-label="CPF">

        <label for="assinatura">Texto da assinatura</label>
        <input id="assinatura" placeholder="Ex: J. da Silva" aria-label="Texto da assinatura">

        <label for="estilo">Estilo da assinatura</label>
        <select id="estilo" aria-label="Estilo da assinatura">
          <option value="italic">Itálico leve</option>
          <option value="bold">Negrito elegante</option>
          <option value="digital">Digital (carimbo)</option>
          <option value="mono">Monoespaçado</option>
        </select>

        <div class="preview" id="preview">Pré-visualização da assinatura</div>

        <div class="controls">
          <button id="saveBtn">Salvar perfil</button>
          <button class="ghost" onclick="localStorage.removeItem('perfis'); loadProfilesInList(); alert('Perfis apagados');">Apagar perfis</button>
        </div>

        <div class="notice">Cadastro único: cada servidor deve cadastrar sua assinatura apenas uma vez.</div>
      </section>

      <aside class="card" aria-labelledby="confirm">
        <h2 id="confirm">Passo B — Confirmação</h2>
        <label for="cpfConfirm">CPF</label>
        <div style="display:flex; gap:8px;">
          <input id="cpfConfirm" placeholder="000.000.000-00" aria-label="CPF confirmação" style="flex:1">
          <button id="confirmBtn" style="min-width:180px">Confirmar recebimento <span id="badgeSuccess" class="badge" style="display:none">✔️ Recebido</span></button>
        </div>

        <div style="margin-top:12px" class="controls">
          <button class="ghost" onclick="localStorage.removeItem('registros'); renderTable(); alert('Registros apagados');">Limpar registros</button>
          <button id="exportBtn" class="ghost">Exportar CSV</button>
        </div>

        <div style="margin-top:14px">
          <div class="small">Perfis cadastrados</div>
          <div id="profilesList" class="small" style="margin-top:8px">Nenhum perfil cadastrado.</div>
        </div>
      </aside>
    </div>

    <section class="card" aria-labelledby="registros">
      <h2 id="registros">Registros</h2>
      <table id="registros" class="table" role="table" aria-label="Tabela de registros">
        <thead><tr><th>CPF</th><th>Nome</th><th>Assinatura</th><th>Data / Hora</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <div id="successMsg" style="position:fixed; right:20px; bottom:24px; background:var(--success); color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 10px 30px rgba(16,185,129,0.18); opacity:0; transition:opacity .2s;"></div>
  <div id="toast" style="position:fixed; left:20px; bottom:24px; background:#0f172a; color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 10px 30px rgba(15,23,42,0.08); opacity:0; transition:opacity .2s;"></div>

  <footer class="footer">
    Prefeitura Municipal de Barra dos Coqueiros – Sistema de Assinaturas Digitais © 2025
  </footer>

  <script src="js/script.js"></script>
</body>
</html>
